// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

//--------------------------------
// 📌 1️⃣ Gestion de bibliothèque 📚
// ➡️ **Objectif** : Gérer des livres, des auteurs, des genres et des emprunts.  

// 🔹 **Livres** : titre, description, date de publication, nombre d’exemplaires disponibles.  
// 🔹 **Auteurs** : nom, biographie, date de naissance.  
// 🔹 **Genres** : (ex: Science-fiction, Romance, Thriller).  
// 🔹 **Emprunts** : chaque livre peut être emprunté et doit être retourné avant une date limite.  
//--------------------------------

model Livre{
  id String @id @default(uuid())
  title String @unique
  description String
  datePublication DateTime
  exemplairesDispo Int
  auteur Auteur @relation(fields: [auteurId], references: [id])
  auteurId String
  genre Genre @relation(fields: [genreId], references: [id])
  genreId String
  emprunts Emprunt[]
}

model Auteur{
  id String @id @default(uuid())
  nom String @unique
  biographie String
  dateNaissance DateTime
  livres Livre[]
}

model Genre{
  id String @id @default(uuid())
  nom String @unique
  livres Livre[]
}

model Emprunt{
  id String @id @default(uuid())
  dateEmprunt    DateTime 
  dateRetourPrevu DateTime 
  livre Livre @relation(fields: [livreId], references: [id])
  livreId String
}

//--------------------------------
// 📌 2️⃣ Gestion d'un cinéma 🎬  
// ➡️ **Objectif** : Organiser des films, des horaires de projection et des salles.  

// 🔹 **Films** : titre, durée, genre, synopsis.  
// 🔹 **Salles** : numéro, capacité (combien de places).  
// 🔹 **Séances** : film projeté, date, heure, salle attribuée.  
// 🔹 **Réservations** (optionnel) : combien de places sont déjà prises.  
//--------------------------------

model Film{
  id String @id @default(uuid())
  title String @unique
  synopsis String
  dureeMinutes Int
  genreFilm GenreFilm @relation(fields: [genreId], references: [id])
  genreId String
  seances Seance[]
}

model GenreFilm{
  id String @id @default(uuid())
  nom String @unique
  films Film[]
}

model Salle{
  id String @id @default(uuid())
  numero Int @unique
  capacite Int
  seances Seance[]
}

model Seance{
  id String @id @default(uuid())
  dateHeure DateTime
  film Film @relation(fields: [filmId], references : [id])
  filmId String
  salle Salle @relation(fields: [salleId], references: [id])
  salleId String
}

//--------------------------------
// 📌 3️⃣ Gestion d’un parc zoologique 🦁
// ➡️ **Objectif** : Gérer des animaux, leurs enclos, et les repas.  

// 🔹 **Animaux** : nom, espèce, date de naissance, enclos attribué.  
// 🔹 **Enclos** : nom (ex: Savane africaine), type (aquatique, désertique...), capacité maximale.  
// 🔹 **Repas** : type de nourriture, quantité, fréquence (quotidien, hebdomadaire).  
// 🔹 **Soins** (optionnel) : suivi médical, dernier contrôle vétérinaire.  
//--------------------------------

//--------------------------------
// 📌 4️⃣ Gestion de Tournois d’échecs ♟️
// ➡️ **Objectif** : Organiser des tournois, des joueurs, et leurs parties.  

// 🔹 **Joueurs** : nom, classement Elo, nationalité.  
// 🔹 **Tournois** : nom, lieu, date de début et fin.  
// 🔹 **Parties** : joueur blanc, joueur noir, gagnant, nombre de coups joués.  
// 🔹 **Classements** : résultat final du tournoi.  
//--------------------------------


//--------------------------------
// 📌 5️⃣ Gestion d’une station météo 🌦️
// ➡️ **Objectif** : Suivre des données météo enregistrées chaque jour.  

// 🔹 **Stations météo** : nom, emplacement, altitude.  
// 🔹 **Relevés** : température, humidité, pression, date et heure du relevé.  
// 🔹 **Types d’alertes** : tempête, canicule, gel, etc.  
//--------------------------------


//--------------------------------
// 📌 6️⃣ Gestion de livraison de colis 📦 
// ➡️ **Objectif** : Suivre des colis, leurs trajets, et leurs statuts.  

// 🔹 **Colis** : numéro de suivi, poids, dimensions.  
// 🔹 **Destinations** : adresse d'expédition et de réception.  
// 🔹 **Étapes du trajet** : entrepôts ou villes traversés, date et heure du passage.  
// 🔹 **Statuts** : en cours de traitement, en transit, livré. 
//--------------------------------


